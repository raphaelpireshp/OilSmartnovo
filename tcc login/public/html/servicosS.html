<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento - Troca de Óleo | OilSmart</title>
    <meta name="description"
        content="Agende sua troca de óleo com a OilSmart. Encontre o óleo e filtro perfeitos para seu veículo e oficinas parceiras próximas.">
    <meta name="keywords" content="troca de óleo, agendamento, oficina, manutenção automotiva, óleo motor">
    <meta name="author" content="OilSmart">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://oilsmart.com.br/servicos">
    <meta property="og:title" content="Agendamento - Troca de Óleo | OilSmart">
    <meta property="og:description" content="Agende sua troca de óleo com a OilSmart. Encontre o óleo e filtro perfeitos para seu veículo.">
    <meta property="og:image" content="/img/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://oilsmart.com.br/servicos">
    <meta property="twitter:title" content="Agendamento - Troca de Óleo | OilSmart">
    <meta property="twitter:description" content="Agende sua troca de óleo com a OilSmart. Encontre o óleo e filtro perfeitos para seu veículo.">
    <meta property="twitter:image" content="/img/og-image.jpg">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://unpkg.com">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="servicos.css">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
</head>

<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>

    <header class="header" role="banner">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <a href="/html/index.html" aria-label="Voltar para página inicial">
                        <img src="/img/LogoIOil.png" alt="OilSmart - Logo">
                    </a>
                </div>

                <!-- Botão Hamburger -->
                <button class="hamburger" id="hamburger" aria-label="Menu de navegação" aria-expanded="false">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>

                <nav class="nav" role="navigation" aria-label="Navegação principal">
                    <ul class="nav__list">
                        <li><a href="/html/index.html">Início</a></li>
                        <li><a href="#" class="active" aria-current="page">Serviços</a></li>
                        <li><a href="/html/agenda.html">Agenda</a></li>
                        <li><a href="/html/sobre.html">Sobre</a></li>
                    </ul>
                </nav>
                
                <div class="action-icons">
                    <a href="#" class="user-icon" id="login-btn" aria-label="Fazer login">
                        <i class="fas fa-user" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content" id="main-content" role="main">
        <div class="container">
            <!-- Progress Steps with improved accessibility -->
            <div class="progress-steps" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="4" aria-label="Progresso do agendamento">
                <div class="progress-step active" data-step="1" aria-label="Passo 1 de 4">
                    <span class="step-icon" aria-hidden="true">1</span>
                    <span class="step-text">Veículo e Localização</span>
                </div>
                <div class="progress-step" data-step="2" aria-label="Passo 2 de 4">
                    <span class="step-icon" aria-hidden="true">2</span>
                    <span class="step-text">Produtos</span>
                </div>
                <div class="progress-step" data-step="3" aria-label="Passo 3 de 4">
                    <span class="step-icon" aria-hidden="true">3</span>
                    <span class="step-text">Agendamento</span>
                </div>
                <div class="progress-step" data-step="4" aria-label="Passo 4 de 4">
                    <span class="step-icon" aria-hidden="true">4</span>
                    <span class="step-text">Confirmação</span>
                </div>
            </div>

            <div class="page-header">
                <h1 class="page-title">Agendamento para Troca de Óleo</h1>
                <p class="page-subtitle">Encontre o óleo e filtro perfeitos para seu veículo</p>
            </div>

            <div class="service-flow">
                <!-- Passo 1: Dados do veículo e localização -->
                <section class="service-step active" id="step1" aria-labelledby="step1-title">
                    <h2 id="step1-title">
                        <span class="step-number" aria-hidden="true">1</span> 
                        Dados do Veículo e Localização
                    </h2>
                    
                    <form id="vehicle-form" class="vehicle-form" novalidate>
                        <div class="form-section">
                            <h3 class="form-section-title">Informações do Veículo</h3>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vehicle-brand">Marca *</label>
                                    <select id="vehicle-brand" required aria-describedby="brand-error">
                                        <option value="">Selecione a marca</option>
                                    </select>
                                    <div class="error-message" id="brand-error" role="alert"></div>
                                    <div class="success-message" role="status"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="vehicle-model">Modelo *</label>
                                    <select id="vehicle-model" disabled required aria-describedby="model-error">
                                        <option value="">Selecione o modelo</option>
                                    </select>
                                    <div class="error-message" id="model-error" role="alert"></div>
                                    <div class="success-message" role="status"></div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vehicle-year">Ano *</label>
                                    <select id="vehicle-year" disabled required aria-describedby="year-error">
                                        <option value="">Selecione o ano</option>
                                    </select>
                                    <div class="error-message" id="year-error" role="alert"></div>
                                    <div class="success-message" role="status"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="vehicle-mileage">Quilometragem *</label>
                                    <input type="number" id="vehicle-mileage" placeholder="Ex: 50000" required 
                                           min="0" max="999999" aria-describedby="mileage-error mileage-help">
                                    <div class="help-text" id="mileage-help">Informe a quilometragem atual do veículo</div>
                                    <div class="error-message" id="mileage-error" role="alert"></div>
                                    <div class="success-message" role="status"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="form-section-title">Localização</h3>
                            
                            <div class="form-group">
                                <label for="location-input">Digite seu endereço</label>
                                <div class="location-search">
                                    <input type="text" id="location-input" placeholder="Ex: Av. Paulista, São Paulo" 
                                           maxlength="100" aria-describedby="location-help">
                                    <button type="button" id="location-button" class="btn btn-primary" aria-describedby="location-help">
                                        <i class="fas fa-search" aria-hidden="true"></i> 
                                        <span>Buscar</span>
                                    </button>
                                </div>
                                <div class="help-text" id="location-help">Digite seu endereço para encontrar oficinas próximas</div>

                                <div class="location-or">
                                    <span>ou</span>
                                </div>
                                
                                <button type="button" id="user-location-btn" class="btn btn-secondary">
                                    <i class="fas fa-location-arrow" aria-hidden="true"></i> 
                                    <span>Usar minha localização</span>
                                </button>
                            </div>

                            <div class="map-container">
                                <div id="map" role="application" aria-label="Mapa com oficinas próximas"></div>
                                <div class="map-sidebar">
                                    <h4>Oficinas Encontradas</h4>
                                    <div class="workshop-list" role="list"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-large" id="search-recommendation-btn">
                                <i class="fas fa-search" aria-hidden="true"></i>
                                <span>Buscar Recomendação</span>
                                <div class="btn-loader" aria-hidden="true"></div>
                            </button>
                        </div>
                    </form>
                </section>

                <!-- Passo 2: Recomendações -->
                <section class="service-step" id="step2" aria-labelledby="step2-title">
                    <h2 id="step2-title">
                        <span class="step-number" aria-hidden="true">2</span> 
                        Produtos Recomendados
                    </h2>
                    
                    <div class="recommendation-container">
                        <div class="product-card" id="recommended-oil" role="article" aria-labelledby="oil-title">
                            <h3 id="oil-title">Óleo Recomendado</h3>
                            <div class="product-skeleton" aria-hidden="true">
                                <div class="skeleton-image"></div>
                                <div class="skeleton-text"></div>
                                <div class="skeleton-text"></div>
                            </div>
                        </div>
                        
                        <div class="product-card" id="recommended-filter" role="article" aria-labelledby="filter-title">
                            <h3 id="filter-title">Filtro Recomendado</h3>
                            <div class="product-skeleton" aria-hidden="true">
                                <div class="skeleton-image"></div>
                                <div class="skeleton-text"></div>
                                <div class="skeleton-text"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-buttons">
                        <button class="btn btn-secondary" onclick="goToStep(1)" type="button">
                            <i class="fas fa-arrow-left" aria-hidden="true"></i>
                            <span>Voltar</span>
                        </button>
                        <button class="btn btn-primary" onclick="goToStep(3)" type="button">
                            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                            <span>Agendar Troca</span>
                        </button>
                    </div>
                </section>

                <!-- Passo 3: Agendamento -->
                <section class="service-step" id="step3" aria-labelledby="step3-title">
                    <h2 id="step3-title">
                        <span class="step-number" aria-hidden="true">3</span> 
                        Agendamento
                    </h2>
                    
                    <div class="scheduling-container">
                        <div class="workshop-summary">
                            <h3>Oficina Selecionada</h3>
                            <div id="selected-workshop" role="region" aria-live="polite"></div>
                        </div>
                        
                        <form class="schedule-form" id="schedule-form" novalidate>
                            <div class="form-section">
                                <h4 class="form-section-title">Data e Horário</h4>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="schedule-date">Data *</label>
                                        <input type="date" id="schedule-date" required aria-describedby="date-error date-help">
                                        <div class="help-text" id="date-help">Selecione uma data a partir de amanhã</div>
                                        <div class="error-message" id="date-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="schedule-time">Horário *</label>
                                        <select id="schedule-time" required aria-describedby="time-error">
                                            <option value="" disabled selected>Selecione um horário</option>
                                        </select>
                                        <div class="error-message" id="time-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4 class="form-section-title">Dados Pessoais</h4>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="customer-name">Nome Completo *</label>
                                        <input type="text" id="customer-name" required aria-describedby="name-error">
                                        <div class="error-message" id="name-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="customer-cpf">CPF *</label>
                                        <input type="text" id="customer-cpf" placeholder="000.000.000-00" required 
                                               maxlength="14" aria-describedby="cpf-error cpf-help">
                                        <div class="help-text" id="cpf-help">Digite apenas números, a formatação será automática</div>
                                        <div class="error-message" id="cpf-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="customer-phone">Telefone *</label>
                                        <input type="tel" id="customer-phone" placeholder="(00) 00000-0000" required 
                                               aria-describedby="phone-error phone-help">
                                        <div class="help-text" id="phone-help">Digite apenas números, a formatação será automática</div>
                                        <div class="error-message" id="phone-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="customer-email">E-mail *</label>
                                        <input type="email" id="customer-email" required aria-describedby="email-error">
                                        <div class="error-message" id="email-error" role="alert"></div>
                                        <div class="success-message" role="status"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="step-buttons">
                                <button class="btn btn-secondary" onclick="goToStep(2)" type="button">
                                    <i class="fas fa-arrow-left" aria-hidden="true"></i>
                                    <span>Voltar</span>
                                </button>
                                <button type="submit" class="btn btn-primary" id="confirm-schedule-btn">
                                    <i class="fas fa-check" aria-hidden="true"></i>
                                    <span>Confirmar Agendamento</span>
                                    <div class="btn-loader" aria-hidden="true"></div>
                                </button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Passo 4: Confirmação -->
                <section class="service-step" id="step4" aria-labelledby="step4-title">
                    <div class="confirmation-container">
                        <div class="confirmation-icon" aria-hidden="true">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <h2 id="step4-title">Agendamento Confirmado!</h2>
                        
                        <div class="confirmation-details" id="confirmation-details" role="region" aria-live="polite">
                            <!-- Detalhes serão preenchidos via JavaScript -->
                        </div>
                        
                        <p class="confirmation-text">
                            Um e-mail de confirmação foi enviado para você com todos os detalhes.
                        </p>
                        
                        <div class="confirmation-actions">
                            <button class="btn btn-primary" onclick="window.location.href='index.html'">
                                <i class="fas fa-home" aria-hidden="true"></i>
                                <span>Voltar ao Início</span>
                            </button>
                            <button class="btn btn-secondary" onclick="window.print()">
                                <i class="fas fa-print" aria-hidden="true"></i>
                                <span>Imprimir Comprovante</span>
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="/img/logo-footer.png" alt="OilSmart" class="footer-logo">
                    <p>Soluções completas para seu veículo</p>
                </div>
                <div class="footer-links">
                    <h3>Links Úteis</h3>
                    <ul>
                        <li><a href="#">Política de Privacidade</a></li>
                        <li><a href="#">Termos de Serviço</a></li>
                        <li><a href="#">Perguntas Frequentes</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contato</h3>
                    <p><i class="fas fa-phone" aria-hidden="true"></i> (11) 4002-8922</p>
                    <p><i class="fas fa-envelope" aria-hidden="true"></i> contato@OilSmart.com.br</p>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 OilSmart. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div id="loading-overlay" aria-hidden="true">
        <div class="loader-container">
            <div class="loader"></div>
            <p class="loader-text">Carregando...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- Modal de Login -->
    <div class="modal" id="login-modal" role="dialog" aria-labelledby="login-modal-title" aria-hidden="true">
        <div class="modal-content">
            <button class="close-modal" aria-label="Fechar modal">&times;</button>
            
            <div class="modal-header">
                <h2 id="login-modal-title">Faça login na sua conta</h2>
                <p>Bem-vindo de volta à OilSmart</p>
            </div>
            
            <form class="login-form" novalidate>
                <div class="form-group">
                    <label for="login-email">E-mail</label>
                    <input type="email" id="login-email" placeholder="Digite seu e-mail" required>
                    <div class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Senha</label>
                    <div class="password-input">
                        <input type="password" id="login-password" placeholder="Digite sua senha" required>
                        <button type="button" class="toggle-password" aria-label="Mostrar/ocultar senha">
                            <i class="far fa-eye" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="error-message" role="alert"></div>
                </div>
                
                <div class="form-options">
                    <label class="remember-me">
                        <input type="checkbox"> Lembrar de mim
                    </label>
                    <a href="#" class="forgot-password">Esqueceu a senha?</a>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">
                    <span>Entrar</span>
                    <div class="btn-loader" aria-hidden="true"></div>
                </button>
            </form>
            
            <div class="divider">
                <span>ou</span>
            </div>
            
            <div class="social-login">
                <button class="social-btn google" type="button">
                    <i class="fab fa-google" aria-hidden="true"></i> 
                    <span>Continuar com Google</span>
                </button>
            </div>
            
            <div class="register-link">
                Não tem uma conta? <a href="#">Cadastre-se</a>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="servicos.js"></script>
</body>

</html>

