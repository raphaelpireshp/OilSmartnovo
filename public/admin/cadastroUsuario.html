    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Novo Usuário - OilSmart</title>
    <link rel="stylesheet" href="/admincss/index.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    </head>
    <body>
        <!-- Elementos decorativos de oficina -->
        <div class="mechanic-elements">
            <i class="fas fa-tools tool-element tool-1"></i>
            <i class="fas fa-oil-can tool-element tool-2"></i>
            <i class="fas fa-cog tool-element tool-3"></i>
            <i class="fas fa-wrench tool-element tool-4"></i>
        </div>

        <div class="login-container">
            <div class="login-card">
                <div class="card-header">
                    <h2>Cadastrar Novo Usuário</h2>
                    <p>Crie sua conta no sistema OilSmart</p>
                </div>
                
                <form id="form-cadastro-usuario" class="oficina-form">
                    <div class="form-group">
                        <label for="novoUsuario" class="required">
                            <i class="fas fa-user"></i> Login
                        </label>
                        <input type="text" id="novoUsuario" name="novoUsuario" required 
                            placeholder="Digite o nome de usuário">
                        <div class="form-error" id="novoUsuario-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="emailUsuario" class="required">
                            <i class="fas fa-envelope"></i> E-mail
                        </label>
                        <input type="email" id="emailUsuario" name="emailUsuario" required 
                            placeholder="Digite seu e-mail para recuperação">
                        <div class="form-help">
                            <i class="fas fa-info-circle"></i>
                            Este e-mail será usado para recuperação de senha
                        </div>
                        <div class="form-error" id="emailUsuario-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="novaSenha" class="required">
                            <i class="fas fa-lock"></i> Senha
                        </label>
                        <input type="password" id="novaSenha" name="novaSenha" required 
                            placeholder="Digite a senha">
                        <div class="password-strength">
                            <div class="strength-bar">
                                <div class="strength-fill" id="strengthFill"></div>
                            </div>
                            <div class="strength-text" id="strengthText">Força da senha</div>
                        </div>
                        <div class="form-error" id="novaSenha-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmarSenha" class="required">
                            <i class="fas fa-lock"></i> Confirmar Senha
                        </label>
                        <input type="password" id="confirmarSenha" name="confirmarSenha" required 
                            placeholder="Digite a senha novamente">
                        <div class="form-error" id="confirmarSenha-error"></div>
                    </div>

                    <div class="form-terms">
                        <label class="checkbox-label">
                            <input type="checkbox" id="aceitarTermos" name="aceitarTermos" required>
                            <span class="checkmark"></span>
                            Concordo com os <a href="#" class="terms-link">Termos de Uso</a> e 
                            <a href="#" class="terms-link">Política de Privacidade</a>
                        </label>
                        <div class="form-error" id="termos-error"></div>
                    </div>
                    
                    <div class="form-actions">
                        <a href="login.html" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i>
                            Voltar para Login
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus"></i>
                            Cadastrar Usuário
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const formCadastroUsuario = document.getElementById("form-cadastro-usuario");
                const novaSenhaInput = document.getElementById("novaSenha");
                const confirmarSenhaInput = document.getElementById("confirmarSenha");
                const strengthFill = document.getElementById("strengthFill");
                const strengthText = document.getElementById("strengthText");

                // Validação de força da senha em tempo real
                novaSenhaInput.addEventListener('input', function() {
                    const senha = this.value;
                    const forca = calcularForcaSenha(senha);
                    atualizarIndicadorForca(forca);
                    validarConfirmacaoSenha();
                });

                // Validação de confirmação de senha em tempo real
                confirmarSenhaInput.addEventListener('input', validarConfirmacaoSenha);

                function calcularForcaSenha(senha) {
                    let forca = 0;
                    
                    if (senha.length >= 6) forca += 1;
                    if (senha.length >= 8) forca += 1;
                    if (/[A-Z]/.test(senha)) forca += 1;
                    if (/[0-9]/.test(senha)) forca += 1;
                    if (/[^A-Za-z0-9]/.test(senha)) forca += 1;
                    
                    return Math.min(forca, 5);
                }

                function atualizarIndicadorForca(forca) {
                    const cores = ['#ff4d4d', '#ff6b6b', '#ffa726', '#66bb6a', '#2e7d32'];
                    const textos = ['Muito fraca', 'Fraca', 'Moderada', 'Forte', 'Muito forte'];
                    
                    strengthFill.style.width = `${(forca / 5) * 100}%`;
                    strengthFill.style.backgroundColor = cores[forca - 1] || '#ff4d4d';
                    strengthText.textContent = forca > 0 ? textos[forca - 1] : 'Força da senha';
                    strengthText.style.color = cores[forca - 1] || '#666';
                }

                function validarConfirmacaoSenha() {
                    const senha = novaSenhaInput.value;
                    const confirmacao = confirmarSenhaInput.value;
                    const errorElement = document.getElementById('confirmarSenha-error');
                    
                    if (confirmacao && senha !== confirmacao) {
                        showError('confirmarSenha-error', 'As senhas não coincidem');
                        return false;
                    } else {
                        document.getElementById('confirmarSenha-error').classList.remove('show');
                        return true;
                    }
                }

                function validarEmail(email) {
                    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    return regex.test(email);
                }

                formCadastroUsuario.addEventListener("submit", function(e){
                    e.preventDefault();

                    const login = document.getElementById("novoUsuario").value.trim();
                    const email = document.getElementById("emailUsuario").value.trim();
                    const senha = document.getElementById("novaSenha").value.trim();
                    const confirmarSenha = document.getElementById("confirmarSenha").value.trim();
                    const aceitarTermos = document.getElementById("aceitarTermos").checked;

                    // Limpar erros anteriores
                    clearErrors();

                    // Validações
                    let valido = true;

                    if (login.length < 3) {
                        showError('novoUsuario-error', 'Login deve ter pelo menos 3 caracteres');
                        valido = false;
                    }

                    if (!validarEmail(email)) {
                        showError('emailUsuario-error', 'Digite um e-mail válido');
                        valido = false;
                    }

                    if (senha.length < 6) {
                        showError('novaSenha-error', 'Senha deve ter pelo menos 6 caracteres');
                        valido = false;
                    }

                    if (!validarConfirmacaoSenha()) {
                        valido = false;
                    }

                    if (!aceitarTermos) {
                        showError('termos-error', 'Você deve aceitar os termos de uso');
                        valido = false;
                    }

                    if (!valido) return;

                    const usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

                    if(usuarios.find(u => u.login === login)){
                        showError('novoUsuario-error', 'Este usuário já existe!');
                        return;
                    }

                    if(usuarios.find(u => u.email === email)){
                        showError('emailUsuario-error', 'Este e-mail já está cadastrado!');
                        return;
                    }

                    // Efeito visual de loading
                    const submitBtn = this.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cadastrando...';
                    submitBtn.disabled = true;

                    // Simular processamento
                    setTimeout(() => {
                        usuarios.push({
                            login: login,
                            email: email,
                            senha: senha,
                            dataCadastro: new Date().toISOString()
                        });
                        
                        localStorage.setItem("usuarios", JSON.stringify(usuarios));
                        
                        submitBtn.innerHTML = '<i class="fas fa-check"></i> Cadastrado!';
                        submitBtn.classList.add('success');
                        
                        setTimeout(() => {
                            alert("Usuário cadastrado com sucesso!\nVocê será redirecionado para a página de login.");
                            window.location.href = "login.html";
                        }, 1000);
                        
                    }, 1500);
                });

                function showError(elementId, message) {
                    const errorElement = document.getElementById(elementId);
                    errorElement.textContent = message;
                    errorElement.classList.add('show');
                    
                    // Auto-remove error after 5 seconds
                    setTimeout(() => {
                        errorElement.classList.remove('show');
                    }, 5000);
                }

                function clearErrors() {
                    const errors = document.querySelectorAll('.form-error');
                    errors.forEach(error => {
                        error.classList.remove('show');
                    });
                }

                // Clear errors on input
                document.getElementById('novoUsuario').addEventListener('input', function() {
                    document.getElementById('novoUsuario-error').classList.remove('show');
                });

                document.getElementById('emailUsuario').addEventListener('input', function() {
                    document.getElementById('emailUsuario-error').classList.remove('show');
                });

                document.getElementById('novaSenha').addEventListener('input', function() {
                    document.getElementById('novaSenha-error').classList.remove('show');
                });

                document.getElementById('confirmarSenha').addEventListener('input', function() {
                    document.getElementById('confirmarSenha-error').classList.remove('show');
                });

                document.getElementById('aceitarTermos').addEventListener('change', function() {
                    document.getElementById('termos-error').classList.remove('show');
                });
            });
        </script>

    </body>
    </html>